[package]
name = "hipcheck-sdk"
description = "SDK for writing Hipcheck plugins in Rust"
homepage = "https://hipcheck.mitre.org"
repository = "https://github.com/mitre/hipcheck"
license = "Apache-2.0"
version = "0.6.1"
edition = "2024"

[dependencies]
anyhow = { workspace = true }
thiserror = { workspace = true }
futures = { workspace = true }
indexmap = { workspace = true }
lazy_static = { workspace = true }
jiff = { version = "0.1.16", features = ["serde"] }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }
tokio = { workspace = true, features = ["rt"] }
tokio-stream = { workspace = true }
tonic = { workspace = true }
schemars = { workspace = true, features = ["url"] }
hipcheck-sdk-macros = { workspace = true, optional = true }
typify-macro = { workspace = true }
url = { workspace = true, features = ["serde"] }
tracing = { workspace = true, optional = true }
tracing-subscriber = { workspace = true, features = ["env-filter", "json"], optional = true }
hipcheck-common = { workspace = true }
console = { workspace = true, features = ["windows-console-colors"] }
hipcheck-workspace-hack = { workspace = true }

[features]
default = ["log_forwarding"]
macros = ["dep:hipcheck-sdk-macros"]
mock_engine = []
print-timings = []
log_forwarding = ["tracing", "tracing-subscriber"]

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]
